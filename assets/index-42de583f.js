import{_ as a}from"./CatBtn-54c5fc33.js";import{o as s,c as d,a as e,_ as l,d as t,b as i,e as c,n as v,u as o,f as n,r,g as u,h as _,i as p,t as f,w as m,T as h,j as x,p as b,k as g,F as y,l as k,m as w,q as j,s as z,v as C}from"./index-cfc64c49.js";import{u as $}from"./app-60c8e0e5.js";import{u as I}from"./mockData-4c78674a.js";const A={class:"box"},U=[e('<div class="cat-box" data-v-4dc4930e><div class="cat" data-v-4dc4930e><div class="helf-box helf-box--ass" data-v-4dc4930e><div class="helf-box clip" data-v-4dc4930e><div class="cat__body" data-v-4dc4930e></div></div><div class="cat__ass" data-v-4dc4930e><div class="cat__body--fake" data-v-4dc4930e></div><div class="cat__foots" data-v-4dc4930e></div><div class="cat__tail" data-v-4dc4930e></div></div></div><div class="helf-box helf-box--head" data-v-4dc4930e><div class="cat__head" data-v-4dc4930e><div class="cat__face" data-v-4dc4930e><div class="cat__ears" data-v-4dc4930e></div><div class="cat__eyes" data-v-4dc4930e></div><div class="cat__mouth" data-v-4dc4930e></div><div class="cat__mustache" data-v-4dc4930e></div></div><div class="cat__foots" data-v-4dc4930e></div></div><div class="helf-box clip" data-v-4dc4930e><div class="cat__body" data-v-4dc4930e></div></div></div></div></div>',1)];const D=l({},[["render",function(a,e,l,t,i,c){return s(),d("div",A,U)}],["__scopeId","data-v-4dc4930e"]]),L=t({__name:"TheAvatar",props:{seed:{},size:{}},setup(a){const e=a,l=i((()=>({height:`${e.size||32}px`,width:`${e.size||32}px`}))),t=`https://api.dicebear.com/6.x/lorelei/svg?seed=${btoa(e.seed||"0")}`;return(a,e)=>(s(),d("div",{class:"bg-black rounded-full",style:v(o(l))},[c("img",{src:t})],4))}}),T={class:"flex h-full"},q={class:"w-300px flex flex-col gap-y-4 p-6"},B=(a=>(j("data-v-da047132"),a=a(),z(),a))((()=>c("hr",null,null,-1))),F={key:1,class:"userList"},R=["onClick"],V={class:"grid"},E={class:"channelView"},G=l(t({__name:"index",setup(e){const l=n(),t=$(),v=I(),j=r({data:[],loading:!1}),z=i((()=>t.user||null)),A=()=>{t.clearUser(),l.push("/")},U=a=>{a?l.push("/app/"+a.sessionId):l.push("/app")};return u((()=>{t.getUser(),(async()=>{if(!j.loading){j.loading=!0;try{await b(1800),j.loading=!1,await b(800),j.data=v.fetchData()}catch{j.data.length=0}finally{j.loading=!1}}})()})),(e,l)=>{var t,i,v;const n=L,r=D,u=a,b=_("Router-view");return s(),d("div",T,[c("div",q,[c("div",{class:"user-card",onClick:l[0]||(l[0]=a=>U(null))},[p(n,{seed:null==(t=o(z))?void 0:t.username,size:64},null,8,["seed"]),c("span",null,f((null==(i=o(z))?void 0:i.username)||"Anonymous"),1)]),B,p(h,{name:"fade",mode:"out-in"},{default:m((()=>[o(j).loading?(s(),x(r,{key:0})):(s(),d("ul",F,[p(g,{name:"show"},{default:m((()=>[(s(!0),d(y,null,k(o(j).data,((a,l)=>{var t;return s(),d("li",{class:C(["user-card",[a.sessionId===(null==(t=e.$route.params)?void 0:t.id)&&"item__active"]]),key:l,onClick:s=>U(a)},[p(n,{seed:a.username,size:52},null,8,["seed"]),c("div",V,[c("span",null,f(a.username),1),c("p",null,f(a.lastUpdateAt),1)])],10,R)})),128))])),_:1})]))])),_:1}),p(u,{onClick:A},{default:m((()=>[w("Logout")])),_:1})]),c("div",E,[(s(),x(b,{key:(null==(v=e.$route.params)?void 0:v.id)||1}))])])}}}),[["__scopeId","data-v-da047132"]]);export{G as default};
